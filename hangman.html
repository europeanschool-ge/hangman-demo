<!DOCTYPE html>
<html>
<head>
<title>Welcome to Hangman!</title>
<script type="text/javascript" src="wordlist.js"></script>
<script>


/*

JS Hangman

pseudo:


initdisplay(string)
 for c in string
  display[cur] = '_'
 output display

updatedisplay(char)
 for c in string
  if char = c
  display[cur] = char
 output display


initdisplay()

for i = 0 to maxguesses

get guess

if guess is in string
 rewrite string with guesses shown

else
 i++




check letters:
 - 26 buttons
 - or 1 text box + validation
 
 
 
 get new word:
 
 js file that is just a var wordlist declaration?
  
 
 
 
 
 
 
 
 

*///


//globals:
var guesscounter = 0;
var word = new Array();
//var display = word;
var display = new Array();
var guessedletters = "";




function get_new_word()
{
	index = Math.floor((Math.random()*cities.length));
	word = cities[index];
}

get_new_word();

function newgame()
{
//this function should reset all params
//eventually this should be the only function
//executed on load!
guesscounter=0;
guessedletters = "";
document.getElementById("used").innerHTML="";
document.getElementById("winlose").innerHTML="";
get_new_word();
initdisplay();

var c=document.getElementById("myCanvas");
c.width=c.width;
//var ctx=c.getContext("2d");
//ctx.clearRect(0, 0, canvas.width, canvas.height);

drawhangman();
}




function drawhangman()
{
var c=document.getElementById("myCanvas");
var ctx=c.getContext("2d");
ctx.beginPath();

switch(guesscounter)
{
case 0:
//gallows base
ctx.moveTo(20,230);
ctx.lineTo(160,230);
//gallows post
ctx.moveTo(40,230);
ctx.lineTo(40,20);
//gallows top beam
ctx.lineTo(100, 20);
//noose
ctx.lineTo(100, 40);
break;

case 1:
//head
ctx.arc(100,60,20,0,2*Math.PI);
break;

case 2:
//torso
ctx.moveTo(100, 80);
ctx.lineTo(100,130);
break;

case 3:
//left arm
ctx.moveTo(100,100);
ctx.lineTo(65,80);
break;

case 4:
//right arm
ctx.moveTo(100,100);
ctx.lineTo(135,80);
break;

case 5:
//left leg
ctx.moveTo(100,130);
ctx.lineTo(70,165);
break;

case 6:
//right leg
ctx.moveTo(100,130);
ctx.lineTo(130,165);
break;

case 7:
//face
//left eye
ctx.moveTo(90, 50);
ctx.lineTo(95, 55);
ctx.moveTo(95, 50);
ctx.lineTo(90, 55);
//right eye
ctx.moveTo(110, 50);
ctx.lineTo(105, 55);
ctx.moveTo(105, 50);
ctx.lineTo(110, 55);
//mouth (line)
ctx.moveTo(92, 72);
ctx.lineTo(108, 72);
break;
}
ctx.stroke();
}

function initdisplay()
{
	display=new Array();
	for (var i=0; i<word.length; i++)
	{
		display[i] = '_';
		if (word[i]==' ')
		{
			display[i] = ' ';
		}
	}
	document.getElementById("word").innerHTML = display.join("");
}


function updatedisplay(letter)
{
	document.getElementById("hangman").innerHTML += letter;

}

function lose()
{
	document.getElementById("winlose").innerHTML="You Lose";
}

function win()
{
	document.getElementById("winlose").innerHTML="You Win!";
}

function wronganswer(letter)
{
	guesscounter++;
	drawhangman();
	document.getElementById("used").innerHTML+=" " + letter;
	if (guesscounter == 7)
	{
		lose();
	}
}


function guess(letter)
{
	if (guessedletters.indexOf(letter)==-1)
	{
		guessedletters+=letter;
		var hit = false;
		var blanks = false;
		//code to check if the letter has been used
		//also check if there are no blanks left
		for (var i=0; i<word.length; i++)
		{
		
			//alert(word[i]);
			if (word[i] == letter)
			{
				display[i] = letter;
				hit = true;
			}	
			if (display[i] == "_")
			{
				blanks = true;
			}
		}
		document.getElementById("word").innerHTML = display.join("");

		//check victory
		if (!blanks)
		{
			win();
		}
	
		//if the letter was not in the word, do the wrong answer procedure
		if (!hit)
		{
			wronganswer(letter);
		}
	}
}



//Writes the HTML Document:
//note: add this type of code to the quiz 

//write the title
document.write("<h1 id=\"hangman\">Hangman</h1>");
//write the canvas
document.write("<canvas id=\"myCanvas\" width=\"180\" height=\"250\" >Your browser does not support the HTML5 canvas tag.</canvas>");
//write the word
document.write("<br><br><span id=\"word\"></span><br><br>");

//display the letters
//this.style.backgroundColor='blue'

for (var i=0; i<26; i++)
{
	var c = String.fromCharCode(97 + i);
	document.write("<img src=\"Letter-" + c + "-icon.png\" onclick=\"guess(\'" + c + "\');\">");
}
document.write("<br><br><br>Used Letters: <span id=\"used\"></span>");
document.write("<br><br><br>Result:<span id=\"winlose\"></span><br>");
document.write("<input type=\"button\" value=\"New Game\" onclick=\"newgame()\">")


initdisplay();
drawhangman();

</script>

<style>
img
{
height:25px;
width:25px;
}

#word
{
margin-left:35px;
letter-spacing:3px;
}

</style>


</head>
<body>










</body>
</html>













